:root{--bg:#05070d;--c1:#0f141f;--c2:#1a2433;--c3:#334155;--tx:#f8fafc;--mt:#8a93a4;--bl:#5aa9ff;--pu:#8b5cf6;--pk:#f43f5e;--gn:#22c55e;--rd:#ef4444;--yl:#facc15;--cy:#22d3ee;--or:#fb923c;--iron:#ff5d2a;--steel:#7dd3fc;--space-1:8px;--space-2:12px;--space-3:16px;--space-4:24px;--text-title:14px;--text-meta:11px}
[data-theme="light"]{--bg:#f3f4f6;--c1:#fff;--c2:#e5e7eb;--c3:#9ca3af;--tx:#111827;--mt:#6b7280}
*{margin:0;padding:0;box-sizing:border-box}body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',sans-serif;background:var(--bg);color:var(--tx);min-height:100dvh;-webkit-tap-highlight-color:transparent;padding-bottom:68px;transition:.3s}
button{font-family:inherit;cursor:pointer}input,textarea{font-family:inherit}input[type=number]{-moz-appearance:textfield}input::-webkit-outer-spin-button,input::-webkit-inner-spin-button{-webkit-appearance:none}
.hdr{background:linear-gradient(160deg, rgba(15,20,31,.95), rgba(10,15,24,.9));border-bottom:1px solid rgba(125,211,252,.22);padding:10px 16px;position:sticky;top:0;z-index:40;backdrop-filter:blur(8px)}.hdr-in{max-width:520px;margin:0 auto;display:flex;align-items:center;justify-content:space-between}.logo{font-size:22px;font-weight:900;letter-spacing:.04em}.hardcore-logo{display:flex;align-items:center;gap:8px}.logo-mark{display:inline-flex;align-items:center;justify-content:center;width:28px;height:28px;border-radius:9px;background:linear-gradient(145deg,var(--iron),#fb7185);color:#fff;box-shadow:0 0 0 1px rgba(255,255,255,.2) inset,0 6px 20px rgba(244,63,94,.35)}.logo-word{background:linear-gradient(90deg,var(--steel),#c4b5fd,var(--iron));-webkit-background-clip:text;-webkit-text-fill-color:transparent}.thm{
  border:1px solid var(--c2);
  background:var(--c2);
  border-radius:12px;
  font-size:18px;
  padding:6px 10px;
  line-height:1;
}
.thm:active{transform:scale(.97)}

.bnav{position:fixed;bottom:0;left:0;right:0;background:var(--c1);border-top:1px solid var(--c2);display:flex;z-index:40;padding:4px 0 max(4px,env(safe-area-inset-bottom))}.nb{flex:1;display:flex;flex-direction:column;align-items:center;gap:2px;padding:4px;background:none;border:none;color:var(--mt);font-size:9px;font-weight:600}.nb.on{color:#60a5fa}.ni{font-size:18px}
.ctn{max-width:520px;margin:0 auto;padding:12px}
.card{background:var(--c1);border-radius:14px;border:1px solid var(--c2);padding:14px;margin-bottom:12px}.badge{font-size:10px;font-weight:600;padding:2px 8px;border-radius:20px;display:inline-block}
.btn{display:inline-flex;align-items:center;justify-content:center;padding:10px 16px;border-radius:10px;border:none;font-weight:700;font-size:13px}.btn:active{transform:scale(.97)}.bp{background:linear-gradient(to right,var(--bl),var(--pu));color:#fff}.bs{background:var(--c2);color:var(--tx)}.bf{width:100%}
.sect{font-size:11px;font-weight:700;color:var(--mt);text-transform:uppercase;letter-spacing:1px;margin:16px 0 10px}
.row{display:flex;align-items:center;gap:8px}
.inp{height:38px;background:var(--c2);border:1px solid var(--c2);border-radius:10px;color:var(--tx);text-align:center;font-size:13px;font-weight:600;outline:none;padding:0 8px}.inp:focus{border-color:var(--bl)}
.txta{width:100%;min-height:50px;background:var(--c2);border:1px solid var(--c2);border-radius:10px;color:var(--tx);font-size:12px;padding:10px;outline:none;resize:vertical}.txta:focus{border-color:var(--bl)}
.pm{width:30px;height:34px;border-radius:8px;background:var(--c2);border:none;color:var(--tx);font-size:14px;display:flex;align-items:center;justify-content:center}.pm:active{background:var(--c3)}
.del{background:none;border:none;color:var(--mt);font-size:18px;padding:2px 6px}.del:active{color:var(--rd)}
.tbar{position:fixed;top:0;left:0;right:0;z-index:100;background:var(--c1);border-bottom:2px solid var(--bl);padding:8px 16px;display:none;align-items:center;justify-content:center;gap:12px}.tbar.on{display:flex}.ttime{font-size:28px;font-weight:800;font-variant-numeric:tabular-nums}.tbtn{padding:6px 14px;border-radius:8px;border:none;font-weight:700;font-size:12px}
.mgrid{display:grid;grid-template-columns:1fr 1fr;gap:8px}.mb{padding:12px;border-radius:12px;border:none;color:#fff;text-align:left}.mb:active{transform:scale(.96)}
.exb{width:100%;text-align:left;padding:10px 12px;border-radius:10px;background:var(--c2);border:none;color:var(--tx);font-size:13px;font-weight:600;margin-bottom:4px;display:flex;align-items:center;justify-content:space-between}.exb:active{background:var(--c3)}
.exc{background:var(--c1);border-radius:12px;border:1px solid var(--c2);overflow:hidden;margin-bottom:8px}
.hc{background:var(--c1);border-radius:14px;border:1px solid var(--c2);overflow:hidden;margin-bottom:12px}
.cal{display:grid;grid-template-columns:repeat(7,1fr);gap:3px;margin-bottom:8px}.cal-h{text-align:center;font-size:10px;color:var(--mt);font-weight:600;padding:4px 0}.cal-d{aspect-ratio:1;display:flex;align-items:center;justify-content:center;border-radius:8px;font-size:11px;font-weight:600;color:var(--mt)}.cal-d.has{background:rgba(59,130,246,.15);color:#60a5fa}.cal-d.today{box-shadow:inset 0 0 0 2px var(--bl)}
.streak{display:flex;align-items:center;gap:10px;padding:12px;background:linear-gradient(135deg,rgba(249,115,22,.1),rgba(239,68,68,.1));border-radius:12px;border:1px solid rgba(249,115,22,.2);margin-bottom:12px}
canvas{width:100%!important;height:180px!important;border-radius:8px}
.pills{display:flex;gap:4px;flex-wrap:wrap;margin-bottom:10px}.pill{padding:4px 10px;border-radius:16px;font-size:10px;font-weight:600;border:1px solid var(--c3);background:none;color:var(--mt)}.pill:active{opacity:.8}.pill.on{background:var(--bl);border-color:var(--bl);color:#fff}
.pr-flash{display:inline-block;font-size:10px;font-weight:700;background:linear-gradient(to right,#fbbf24,#f59e0b);color:#000;padding:1px 8px;border-radius:10px;margin-left:4px;animation:pu 1s infinite}@keyframes pu{0%,100%{opacity:1}50%{opacity:.6}}
.ss-wrap{border-left:3px solid var(--pu);padding-left:8px;margin-bottom:8px}.ss-lbl{font-size:10px;font-weight:700;color:var(--pu);margin-bottom:4px}.ss-tag{font-size:9px;font-weight:700;color:var(--pu);background:rgba(168,85,247,.12);padding:1px 6px;border-radius:8px}
.mover-bg{position:fixed;inset:0;background:rgba(0,0,0,.6);z-index:200;display:flex;align-items:flex-end;justify-content:center}.modal{background:var(--c1);border-radius:20px 20px 0 0;padding:20px;max-width:520px;width:100%;max-height:80vh;overflow-y:auto}
.prev-perf{font-size:10px;color:var(--cy);background:rgba(6,182,212,.1);padding:6px 10px;border-radius:8px;margin-bottom:10px}
.fav-star{font-size:14px;padding:2px 4px;background:none;border:none;flex-shrink:0}
.search-inp{width:100%;height:36px;background:var(--c2);border:1px solid var(--c2);border-radius:10px;color:var(--tx);font-size:12px;padding:0 12px;outline:none;margin-bottom:8px}.search-inp:focus{border-color:var(--bl)}
.rating{display:flex;gap:4px;justify-content:center}.rating-star{font-size:28px;background:none;border:none;transition:.15s;opacity:.3}.rating-star.on{opacity:1}
.goal-bar{height:6px;background:var(--c2);border-radius:3px;overflow:hidden;margin-top:4px}.goal-fill{height:100%;border-radius:3px;transition:width .3s}
.manage-ex{font-size:10px;color:var(--bl);background:none;border:none;font-weight:600}
.chest-bg{background:linear-gradient(135deg,#ef4444,#e11d48)}.chest-l{background:rgba(239,68,68,.12)}.chest-t{color:#f87171}.chest-bd{border-color:rgba(239,68,68,.25)}
.back-bg{background:linear-gradient(135deg,#3b82f6,#4f46e5)}.back-l{background:rgba(59,130,246,.12)}.back-t{color:#60a5fa}.back-bd{border-color:rgba(59,130,246,.25)}
.legs-bg{background:linear-gradient(135deg,#22c55e,#059669)}.legs-l{background:rgba(34,197,94,.12)}.legs-t{color:#4ade80}.legs-bd{border-color:rgba(34,197,94,.25)}
.shoulders-bg{background:linear-gradient(135deg,#eab308,#d97706)}.shoulders-l{background:rgba(234,179,8,.12)}.shoulders-t{color:#facc15}.shoulders-bd{border-color:rgba(234,179,8,.25)}
.arms-bg{background:linear-gradient(135deg,#a855f7,#7c3aed)}.arms-l{background:rgba(168,85,247,.12)}.arms-t{color:#c084fc}.arms-bd{border-color:rgba(168,85,247,.25)}
.core-bg{background:linear-gradient(135deg,#f97316,#dc2626)}.core-l{background:rgba(249,115,22,.12)}.core-t{color:#fb923c}.core-bd{border-color:rgba(249,115,22,.25)}
.cardio-bg{background:linear-gradient(135deg,#06b6d4,#0d9488)}.cardio-l{background:rgba(6,182,212,.12)}.cardio-t{color:#22d3ee}.cardio-bd{border-color:rgba(6,182,212,.25)}
.empty{text-align:center;padding:40px 0;color:var(--mt);font-size:13px}
/* Confetti */
.confetti-wrap{position:fixed;top:0;left:0;right:0;bottom:0;pointer-events:none;z-index:300;overflow:hidden}
.confetti-piece{position:absolute;width:10px;height:10px;top:-20px;animation:confettiFall 2.5s ease-out forwards}
@keyframes confettiFall{0%{transform:translateY(0) rotate(0deg);opacity:1}100%{transform:translateY(100vh) rotate(720deg);opacity:0}}
/* Recovery */
.rec-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:6px}
.rec-item{padding:8px;border-radius:10px;background:var(--c2);font-size:11px;font-weight:600;display:flex;justify-content:space-between;align-items:center}
.rec-dot{width:8px;height:8px;border-radius:50%;flex-shrink:0}
/* Achievement */
.ach-item{display:flex;align-items:center;gap:10px;padding:10px;border-radius:10px;margin-bottom:6px}
.ach-item.locked{opacity:.4}
.ach-icon{font-size:28px;flex-shrink:0;width:40px;text-align:center}
.ach-info{flex:1}.ach-name{font-size:12px;font-weight:700}.ach-desc{font-size:10px;color:var(--mt)}
.ach-check{font-size:16px;flex-shrink:0}
/* Plate viz */
.plate-bar{display:flex;align-items:center;justify-content:center;gap:1px;margin:12px 0;height:80px}
.plate{border-radius:3px;display:flex;align-items:center;justify-content:center;font-size:8px;font-weight:700;color:#000;writing-mode:vertical-lr}
.bar-center{width:120px;height:12px;background:#888;border-radius:2px}
/* Warmup */
.wu-row{display:flex;justify-content:space-between;padding:6px 0;border-bottom:1px solid var(--c2);font-size:12px}
/* Quote */
.quote-box{background:linear-gradient(135deg,rgba(99,102,241,.1),rgba(168,85,247,.1));border:1px solid rgba(139,92,246,.2);border-radius:12px;padding:14px;margin-bottom:12px;text-align:center}
.quote-text{font-size:13px;font-weight:600;font-style:italic;line-height:1.5}
.quote-author{font-size:10px;color:var(--mt);margin-top:6px}
/* Measurements */
.meas-grid{display:grid;grid-template-columns:1fr 1fr;gap:8px}
.meas-item{background:var(--c2);border-radius:10px;padding:10px;text-align:center}
.meas-val{font-size:18px;font-weight:800}.meas-lbl{font-size:9px;color:var(--mt);text-transform:uppercase;margin-top:2px}
.meas-change{font-size:9px;font-weight:700;padding:1px 5px;border-radius:6px;margin-top:2px;display:inline-block}
.login-wrap{min-height:calc(100vh - 170px);display:flex;align-items:center;justify-content:center;padding:10px 0}
.login-card{width:min(460px,100%)}
/* Weekly targets */
.wt-row{margin-bottom:8px}.wt-head{display:flex;justify-content:space-between;font-size:11px;margin-bottom:3px}.wt-name{font-weight:600}.wt-nums{color:var(--mt)}
.wt-bar{height:8px;background:var(--c2);border-radius:4px;overflow:hidden}.wt-fill{height:100%;border-radius:4px;transition:width .3s}
/* ===== Elite polish (Safari-safe) ===== */

/* Softer type + better readability */
body{letter-spacing:-.01em;text-rendering:optimizeLegibility}

/* Better touch feel */
button,.btn,.nb,.pill,.pm{touch-action:manipulation}

/* Slightly more premium cards */
.card,.hc,.exc,.modal{
  box-shadow: 0 10px 30px rgba(0,0,0,.14);
}

/* Glass header + bottom nav (works great in iOS Safari) */
.hdr,.bnav{
  background: color-mix(in srgb, var(--c1) 82%, transparent);
  -webkit-backdrop-filter: blur(12px) saturate(140%);
  backdrop-filter: blur(12px) saturate(140%);
}

/* Cleaner bottom nav spacing + bigger tap targets */
.nb{padding:8px 0}
.ni{font-size:19px}

/* Inputs feel more iOS */
.inp,.txta,.search-inp{
  border: 1px solid color-mix(in srgb, var(--c3) 65%, transparent);
}
.inp:focus,.txta:focus,.search-inp:focus{
  box-shadow: 0 0 0 3px rgba(59,130,246,.18);
}

/* Buttons: better press feedback */
.btn,.pm,.pill,.exb{
  transition: transform .08s ease, filter .15s ease, background .15s ease;
}
.btn:active,.pm:active,.pill:active,.exb:active{transform:scale(.98)}

/* Reduce harsh borders in dark mode */
:root .card,:root .hc,:root .exc{
  border-color: color-mix(in srgb, var(--c2) 80%, transparent);
}

/* Light mode: a touch more contrast */
[data-theme="light"] .card,
[data-theme="light"] .hc,
[data-theme="light"] .exc{
  box-shadow: 0 10px 26px rgba(17,24,39,.08);
}

/* Safer sticky header overlap with iOS safe-area */
.hdr{padding-top: calc(10px + env(safe-area-inset-top))}



/* Dashboard V2 */
.dash-card{margin:8px 0}
.dash-head{display:flex;justify-content:space-between;align-items:center}
.dash-title{font-size:13px;font-weight:900;margin:0 0 8px}
.insight-list{list-style:none;padding:0;margin:0;display:grid;gap:6px}
.insight-item{font-size:12px;background:var(--c2);padding:9px;border-radius:10px}
.priority-1{border-left:3px solid var(--yl)}
.ring-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:8px}
.ring-card{position:relative;text-align:center;padding:6px;background:var(--c2);border-radius:12px}
.ring-label{font-size:10px;color:var(--mt);margin-bottom:6px}.ring-svg{width:72px;height:72px}
.ring-bg{fill:none;stroke:var(--c3);stroke-width:6}.ring-fg{fill:none;stroke-width:6;transform:rotate(-90deg);transform-origin:50% 50%;transition:stroke-dashoffset .6s ease}
.ring-center{position:absolute;inset:0;display:flex;flex-direction:column;align-items:center;justify-content:center;padding-top:10px;font-size:9px}
.ring-center strong{font-size:14px}
.mini-grid{display:grid;grid-template-columns:1fr 1fr;gap:8px}.mini-grid div{background:var(--c2);padding:10px;border-radius:10px}
.mini-grid span{font-size:10px;color:var(--mt);display:block}.mini-grid strong{font-size:13px}
.collapse-btn{width:100%;background:var(--c2);color:var(--tx);border:0;padding:10px;border-radius:10px;text-align:left;font-weight:700}
.volume-body{margin-top:8px;display:grid;gap:7px}.vm-row{display:grid;grid-template-columns:56px 1fr auto;gap:8px;align-items:center;font-size:11px}.vm-bar{height:8px;background:var(--c2);border-radius:5px;overflow:hidden}.vm-bar span{display:block;height:100%}
.vm-row.blue .vm-bar span{background:#3b82f6}.vm-row.green .vm-bar span{background:#22c55e}.vm-row.red .vm-bar span{background:#ef4444}
.fab-start{position:fixed;right:16px;bottom:90px;background:var(--bl);color:#fff;border:0;border-radius:999px;padding:12px 16px;font-weight:800;z-index:120;box-shadow:0 10px 20px rgba(0,0,0,.24)}
.profile-grid{display:grid;gap:8px}
.exercise-card.prog-green{border-color:rgba(34,197,94,.45)}.exercise-card.prog-yellow{border-color:rgba(234,179,8,.45)}.exercise-card.prog-red{border-color:rgba(239,68,68,.45)}
.rest-float{position:fixed;left:12px;right:12px;bottom:146px;display:none;background:var(--c1);border:1px solid var(--c3);border-radius:14px;padding:10px;align-items:center;gap:10px;z-index:130}
.rest-float.on{display:flex}.rest-ring{width:36px;height:36px;border-radius:50%;background:conic-gradient(var(--bl) var(--rest-progress,100%),var(--c2) 0)}
.rest-copy{display:grid}.rest-copy span{font-size:11px;color:var(--mt)}

/* Home + Plan refresh */
.hdr{min-height:64px}
.hdr .row{align-items:center}
.thm{width:38px;height:38px;display:inline-flex;align-items:center;justify-content:center;padding:0}
.ctn{padding:var(--space-2) var(--space-2) calc(90px + env(safe-area-inset-bottom))}
.card{padding:var(--space-3);border-radius:16px;margin-bottom:var(--space-3)}
.sect{margin:var(--space-4) 0 var(--space-2)}
.home-card-title{font-size:var(--text-title);font-weight:800;line-height:1.25}
.home-meta{font-size:var(--text-meta);color:var(--mt);line-height:1.45}
.home-stack-card{animation:fadeRise .2s ease both}
.focus-item{display:flex;justify-content:space-between;align-items:center;gap:10px;padding:10px;border-radius:12px;background:var(--c2);margin-top:8px}
.focus-item.top{box-shadow:inset 2px 0 0 var(--bl)}
.snap-row{display:flex;align-items:center;gap:8px;margin-top:8px}
.snap-bar{flex:1;height:7px;background:var(--c2);border-radius:99px;overflow:hidden}
.snap-bar span,.snap-fill{display:block;height:100%;background:linear-gradient(90deg,#60a5fa,#a855f7);box-shadow:0 0 0 1px rgba(96,165,250,.25) inset;transition:width .25s ease}
.home-guidance{margin-top:10px;padding:9px 10px;background:color-mix(in srgb,var(--bl) 16%, transparent);border-radius:10px;font-size:11px;font-weight:700}

.plan-week-grid{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:8px}
.plan-day{border:1px solid var(--c2);background:var(--c2);border-radius:12px;padding:10px;min-height:46px;text-align:left;color:var(--tx)}
.plan-day.done{border-color:color-mix(in srgb,var(--gn) 55%, var(--c2));box-shadow:inset 0 0 0 1px rgba(34,197,94,.2)}
.plan-day.selected{border-color:var(--bl);box-shadow:0 0 0 2px rgba(59,130,246,.28)}
.plan-day.rest{background:linear-gradient(145deg,rgba(148,163,184,.18),rgba(15,23,42,.6));border-color:rgba(148,163,184,.4)}
.plan-day-name{font-size:10px;font-weight:800;color:var(--mt);text-transform:uppercase}
.plan-day-routine{font-size:12px;font-weight:700;margin-top:3px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.routine-acc{border:1px solid var(--c2);border-radius:12px;overflow:hidden;margin-top:8px;background:color-mix(in srgb,var(--c2) 50%, transparent)}
.routine-acc-head{width:100%;display:flex;align-items:center;justify-content:space-between;text-align:left;border:0;background:none;color:var(--tx);padding:11px 12px}
.routine-acc-body{max-height:0;opacity:0;overflow:hidden;transition:max-height .2s ease-out,opacity .18s ease-out;padding:0 12px}
.routine-acc.open .routine-acc-body{max-height:220px;opacity:1;padding:0 12px 12px}
.plan-assign-grid{display:grid;grid-template-columns:repeat(4,minmax(0,1fr));gap:6px}

.empty-state{display:flex;align-items:center;gap:10px;background:var(--c2);border-radius:12px;padding:10px}
.empty-icon{font-size:18px}
.empty-title{font-size:12px;font-weight:800}
.empty-meta{font-size:10px;color:var(--mt)}

.toast-wrap{position:fixed;left:0;right:0;bottom:88px;display:flex;justify-content:center;pointer-events:none;z-index:260}
.toast{background:color-mix(in srgb,var(--c1) 90%, transparent);border:1px solid var(--c2);padding:10px 14px;border-radius:999px;font-size:11px;font-weight:700;opacity:0;transform:translateY(8px);transition:.2s ease}
.toast.show{opacity:1;transform:translateY(0)}

#app{transition:opacity .2s ease,transform .2s ease}
#app.view-transition-out{opacity:0;transform:translateY(6px)}
#app.view-transition-in{opacity:1;transform:translateY(0)}

.btn,.pm,.pill,.exb,.nb,.thm,.plan-day,.routine-acc-head{transition:transform .1s ease,filter .18s ease,background-color .18s ease}
.btn:hover,.pm:hover,.thm:hover{filter:brightness(1.05)}
.btn:active,.pm:active,.pill:active,.exb:active,.nb:active,.thm:active,.plan-day:active,.routine-acc-head:active{transform:scale(.98)}
.mover-bg{animation:fadeIn .18s ease both}
.modal{animation:modalIn .2s ease both}

@media (min-width:460px){
  .plan-week-grid{grid-template-columns:repeat(4,minmax(0,1fr))}
}

@keyframes fadeRise{from{opacity:0;transform:translateY(6px)}to{opacity:1;transform:translateY(0)}}
@keyframes fadeIn{from{opacity:0}to{opacity:1}}
@keyframes modalIn{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}

@media (prefers-reduced-motion: reduce){
  *,*::before,*::after{animation:none !important;transition:none !important;scroll-behavior:auto !important}
}


.last-workout-link{margin-top:8px;background:none;border:0;color:var(--tx);font-size:11px;font-weight:700;text-align:left;padding:0;opacity:.9}
.last-workout-link:hover{opacity:1}
.home-view-all{background:none;border:0;color:var(--bl);font-size:11px;font-weight:700;padding:2px 0}
.focus-routine-pill{margin-top:8px;display:inline-flex;padding:4px 9px;border-radius:999px;background:color-mix(in srgb,var(--bl) 18%, transparent);font-size:10px;font-weight:700}
.focus-modal-row{display:flex;justify-content:space-between;gap:10px;padding:8px 0;border-bottom:1px solid var(--c2)}

.progress-calendar-card{background:linear-gradient(155deg,rgba(255,255,255,.06),rgba(15,23,42,.85));border:1px solid var(--border-hairline);box-shadow:0 10px 25px rgba(2,6,23,.35)}
.progress-calendar-pill{padding:5px 10px;border-radius:999px;background:rgba(216,255,63,.14);color:var(--yl);font-size:10px;font-weight:800;letter-spacing:.03em;text-transform:uppercase}
.progress-calendar-grid{display:grid;grid-template-columns:repeat(7,minmax(0,1fr));gap:6px}
.progress-calendar-dow{font-size:10px;font-weight:800;color:var(--mt);text-align:center;letter-spacing:.03em;text-transform:uppercase;padding-bottom:2px}
.progress-calendar-cell{border:1px solid var(--c2);border-radius:10px;min-height:44px;background:rgba(255,255,255,.02);display:flex;flex-direction:column;justify-content:space-between;align-items:flex-start;padding:6px;gap:5px;color:var(--tx)}
.progress-calendar-cell.blank{visibility:hidden}
.progress-calendar-cell .day{font-size:12px;font-weight:800}
.progress-calendar-cell .marker{width:7px;height:7px;border-radius:999px;background:linear-gradient(145deg,#a3e635,#22d3ee);box-shadow:0 0 0 3px rgba(34,211,238,.15)}
.progress-calendar-cell .marker-off{opacity:.18;box-shadow:none}
.progress-calendar-cell.has-workout{border-color:rgba(34,211,238,.45);background:linear-gradient(155deg,rgba(34,211,238,.16),rgba(59,130,246,.08));box-shadow:inset 0 0 0 1px rgba(34,211,238,.2)}
.progress-calendar-cell.selected{border-color:var(--yl);box-shadow:0 0 0 2px rgba(216,255,63,.2)}

:focus-visible{outline:2px solid rgba(96,165,250,.7);outline-offset:2px}


/* Nutrition search (phase 1-3) */
.nutrition-root {
  padding: 12px;
  padding-bottom: 88px;
}

.nutrition-search-screen {
  background: var(--card, #111827);
  border: 1px solid var(--line, #1f2937);
  border-radius: 16px;
  padding: 12px;
}

.nutrition-header h2 {
  margin: 0;
  font-size: 18px;
}

.nutrition-header p {
  margin: 4px 0 0;
  color: var(--mt, #9ca3af);
  font-size: 12px;
}

.nutrition-search-input-wrap {
  margin-top: 10px;
  display: flex;
  align-items: center;
  gap: 8px;
  border: 1px solid var(--line, #1f2937);
  border-radius: 12px;
  padding: 10px 12px;
  min-height: 48px;
}

.nutrition-search-input-wrap input {
  width: 100%;
  border: none;
  outline: none;
  background: transparent;
  color: var(--tx, #f9fafb);
  font-size: 16px;
}

.nutrition-section {
  margin-top: 14px;
}

.nutrition-section h3 {
  margin: 0 0 8px;
  font-size: 13px;
  color: var(--mt, #9ca3af);
}

.food-list {
  display: grid;
  gap: 8px;
}

.food-list-item {
  min-height: 54px;
  border: 1px solid var(--line, #1f2937);
  border-radius: 12px;
  padding: 10px;
  display: flex;
  justify-content: space-between;
  gap: 10px;
  align-items: center;
  background: rgba(255, 255, 255, 0.02);
  color: inherit;
  text-align: left;
}

.food-name {
  margin: 0;
  font-size: 14px;
  font-weight: 700;
}

.food-meta {
  margin: 2px 0 0;
  font-size: 12px;
  color: var(--mt, #9ca3af);
}

.food-macros {
  display: grid;
  justify-items: end;
  font-size: 12px;
  color: var(--mt, #9ca3af);
}

.food-list-empty {
  margin: 0;
  border: 1px dashed var(--line, #1f2937);
  border-radius: 12px;
  min-height: 52px;
  display: grid;
  place-items: center;
  color: var(--mt, #9ca3af);
  font-size: 12px;
}

.skeleton {
  pointer-events: none;
  overflow: hidden;
}

.skeleton-block {
  width: 100%;
  height: 14px;
  border-radius: 8px;
  background: linear-gradient(90deg, rgba(255,255,255,0.05), rgba(255,255,255,0.15), rgba(255,255,255,0.05));
  background-size: 200% 100%;
  animation: nutritionShimmer 1.2s linear infinite;
}

@keyframes nutritionShimmer {
  from { background-position: 200% 0; }
  to { background-position: -200% 0; }
}

/* Nutrition Intelligence */
.ni-card { animation: niFade .28s ease; }
.ni-title { font-size: 12px; font-weight: 800; margin-bottom: 6px; }
.ni-copy { font-size: 12px; color: var(--mt); line-height: 1.35; }
.ni-sub { margin-top: 8px; font-size: 11px; color: var(--mt); }
.ni-grid { display:grid; grid-template-columns: repeat(2,1fr); gap:8px; }
.ni-grid div { background: var(--c2); border-radius: 10px; padding: 8px; text-align: center; }
.ni-grid strong { display:block; font-size: 15px; }
.ni-grid span { font-size: 10px; color: var(--mt); }
.ni-list { margin: 0; padding-left: 0; list-style: none; font-size: 12px; display:grid; gap:6px; }
.tone-good { border: 1px solid rgba(16,185,129,.35); }
.tone-warn { border: 1px solid rgba(245,158,11,.35); }
.ni-ring { width: 88px; height: 88px; margin: 8px auto; position: relative; }
.ni-ring-fill { width:100%; height:100%; border-radius:50%; background:conic-gradient(var(--gn) calc(var(--p)*1%), var(--c2) 0); animation: niSpin .45s ease; }
.ni-ring-text { position:absolute; inset:0; display:flex; align-items:center; justify-content:center; font-size: 18px; font-weight: 900; }
@keyframes niFade { from { opacity: .2; transform: translateY(6px);} to { opacity: 1; transform: translateY(0);} }
@keyframes niSpin { from { transform: rotate(-65deg); opacity: .4; } to { transform: rotate(0deg); opacity: 1; } }

/* === Phase 1 UI System: Hardcore Minimal Luxury === */
:root{
  --bg-primary:#020303;
  --bg-secondary:#0d1117;
  --bg-tertiary:#131a23;
  --surface-glass:rgba(22,28,37,.72);
  --accent:#d8ff3f;
  --accent-2:#79a9ff;
  --text-primary:#f8fafc;
  --text-secondary:#8b95a7;
  --border-hairline:rgba(255,255,255,.09);
  --radius-card:18px;
  --radius-compact:16px;
  --space-1:8px;
  --space-2:16px;
  --space-3:24px;
}
.app-body{background:radial-gradient(circle at 20% -10%, #1a2232 0%, var(--bg-primary) 35%, #010101 100%);color:var(--text-primary);}
.app-shell{min-height:100dvh;}
.container,.ctn{width:min(100%,560px);margin:0 auto;padding:12px 14px 110px;}
.card{background:linear-gradient(160deg,rgba(255,255,255,.03),rgba(255,255,255,.01));border:1px solid var(--border-hairline);border-radius:var(--radius-card);box-shadow:inset 0 1px 0 rgba(255,255,255,.06),0 12px 40px rgba(0,0,0,.38);backdrop-filter:blur(12px);}
.card-elevated{background:linear-gradient(160deg,rgba(216,255,63,.08),rgba(121,169,255,.04));}
.card-compact{padding:12px 14px;border-radius:var(--radius-compact);}
.section-title{font-size:clamp(1.6rem,5vw,2rem);letter-spacing:-.03em;font-weight:800;line-height:1.1;}
.display-metric{font-size:clamp(1.5rem,6vw,2.2rem);font-weight:800;letter-spacing:-.03em;}
.label-small{font-size:.68rem;text-transform:uppercase;letter-spacing:.11em;color:var(--text-secondary);font-weight:700;}
.input-large{height:52px;font-size:1.25rem;font-weight:700;}
.mono-number,.ttime,.inp{font-variant-numeric:tabular-nums;font-family:ui-monospace,SFMono-Regular,Menlo,monospace;}

.top-nav{background:rgba(2,4,7,.72);backdrop-filter:blur(20px);border-bottom:1px solid var(--border-hairline);}
.bottom-tab-bar{position:fixed;left:12px;right:12px;bottom:calc(env(safe-area-inset-bottom) + 10px);padding:8px;background:rgba(9,12,18,.7);backdrop-filter:blur(22px);border:1px solid var(--border-hairline);border-radius:22px;box-shadow:0 14px 44px rgba(0,0,0,.5);display:flex;gap:2px;z-index:50;}
.nb{border-radius:14px;padding:8px 4px;transition:transform .2s,background .25s,color .25s;}
.nb .tab-label{font-size:10px;line-height:1.1;}
.nb.on{color:var(--accent);background:rgba(216,255,63,.08);text-shadow:0 0 14px rgba(216,255,63,.35);}
.nb.on .ni{transform:translateY(-1px) scale(1.05);}
.nb.is-pressed,.btn.is-pressed{transform:scale(.96);}

.dashboard-page{display:grid;gap:12px;}
.dashboard-page > *{min-width:0;}
.dashboard-hero{padding:4px 2px 0;overflow:hidden;}
.ring-grid{display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:10px;}
.progress-ring-card{background:var(--surface-glass);border:1px solid var(--border-hairline);border-radius:18px;padding:10px;display:grid;place-items:center;gap:4px;}
.progress-ring{width:74px;height:74px;transform:rotate(-90deg);}
.ring-track{fill:none;stroke:rgba(255,255,255,.12);stroke-width:12;}
.ring-value{fill:none;stroke-linecap:round;stroke-width:12;transition:stroke-dasharray .5s var(--ease-out, cubic-bezier(0.22,1,0.36,1));}
.metric-card{padding:14px;overflow:hidden;}
.dashboard-stack{display:grid;gap:10px;}

.dashboard-duo{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:10px;}
.dashboard-focus{padding:14px;overflow:hidden;}
.dashboard-focus .display-metric{font-size:clamp(1.2rem,4.8vw,1.8rem);line-height:1.2;word-break:break-word;}
.dashboard-focus-body{margin-top:8px;padding-top:8px;border-top:1px solid rgba(255,255,255,.08);}
.weight-log-inline .row{flex-wrap:wrap;}
.weight-log-inline .inp{height:42px;min-width:140px;}
.focus-item{display:flex;justify-content:space-between;align-items:flex-start;flex-wrap:wrap;gap:10px;padding:10px 0;border-top:1px solid rgba(255,255,255,.08);}
.focus-item.top{border-top:none;padding-top:0;}
.focus-item>div{min-width:0;flex:1 1 180px;}
.home-focus-action{flex:0 0 auto;}
.focus-routine-pill{display:inline-flex;border:1px solid rgba(216,255,63,.35);background:rgba(216,255,63,.08);padding:4px 10px;border-radius:999px;font-size:11px;margin-bottom:8px;}

.dashboard-stagger{opacity:0;transform:translateY(10px) scale(.99);}
.dashboard-stagger.stagger-in{animation:riseIn .48s cubic-bezier(0.22,1,0.36,1) forwards;}
@keyframes riseIn{to{opacity:1;transform:translateY(0) scale(1);}}
.value-pulse{animation:valuePulse .35s ease-out;}
@keyframes valuePulse{0%{transform:scale(1)}50%{transform:scale(1.04)}100%{transform:scale(1)}}

@media (max-width:560px){.dashboard-duo{grid-template-columns:1fr;}.ring-grid{grid-template-columns:1fr;}}
@media (max-width:380px){.ring-grid{grid-template-columns:1fr;}}

/* === Phase 2: Workout + Nutrition premium interaction layer === */
.tab-switcher .track-mode{border-radius:14px;border:1px solid var(--border-hairline);background:rgba(255,255,255,.03)}
.tab-switcher .track-mode.on{background:linear-gradient(130deg,rgba(216,255,63,.2),rgba(121,169,255,.2));color:var(--text-primary)}
.exercise-card-v2{position:relative;overflow:hidden}
.exercise-card-v2::after{content:"";position:absolute;inset:auto 0 0 0;height:1px;background:linear-gradient(90deg,transparent,rgba(216,255,63,.4),transparent)}
.set-grid .inp{height:46px;font-size:19px;font-weight:800}
.weight-stepper{display:grid;grid-template-columns:auto 1fr auto;gap:6px;align-items:center}
.ws-btn{border:none;background:rgba(216,255,63,.12);color:var(--accent);font-weight:800;border-radius:12px;padding:0 10px;height:44px;min-width:44px;transition:transform .2s ease, background .2s ease;will-change:transform}
.ws-btn:active{transform:scale(.94);background:rgba(216,255,63,.25)}
.set-complete{margin-top:10px;width:100%;border:1px dashed rgba(121,169,255,.5);background:rgba(121,169,255,.08)}
.set-complete-done{border-color:rgba(216,255,63,.8)!important;box-shadow:0 0 0 1px rgba(216,255,63,.3),0 0 20px rgba(216,255,63,.2)}

/* Nutrition macro bars */
.nutrition-root .card, .card .macro-bar{will-change:transform}
.macro-fill{height:100%;border-radius:inherit;background:linear-gradient(90deg,var(--accent),var(--accent-2));transform-origin:left center;animation:macroGrow .55s cubic-bezier(0.22,1,0.36,1)}
@keyframes macroGrow{from{transform:scaleX(.2);opacity:.4}to{transform:scaleX(1);opacity:1}}

/* Native page transitions */
.ctn{will-change:transform,opacity}
.view-transition-in{animation:nativeIn .28s cubic-bezier(.22,1,.36,1)}
.view-transition-out{animation:nativeOut .2s ease both}
@keyframes nativeIn{from{opacity:.3;transform:translateX(12px)}to{opacity:1;transform:translateX(0)}}
@keyframes nativeOut{from{opacity:1;transform:translateX(0)}to{opacity:.2;transform:translateX(-8px)}}

/* Skeleton states */
.skeleton{position:relative;overflow:hidden;background:rgba(255,255,255,.06)!important;color:transparent!important}
.skeleton::before{content:"";position:absolute;inset:0;background:linear-gradient(110deg,transparent 30%,rgba(255,255,255,.2) 45%,transparent 60%);animation:skel 1.1s linear infinite}
@keyframes skel{from{transform:translateX(-100%)}to{transform:translateX(100%)}}


.workout-summary-card{background:linear-gradient(150deg,rgba(90,169,255,.16),rgba(244,63,94,.1));border-color:rgba(125,211,252,.35)}
.set-complete{touch-action:pan-y;position:relative;overflow:hidden}
.set-complete::after{content:"";position:absolute;inset:0;transform:translateX(-100%);background:linear-gradient(90deg,transparent,rgba(125,211,252,.25),transparent);transition:transform .28s ease}
.set-complete:active::after{transform:translateX(100%)}

/* Adaptive UI system */
.adaptive-header{background:linear-gradient(140deg,rgba(5,10,20,.9),rgba(16,24,40,.7));border:1px solid rgba(125,211,252,.24);backdrop-filter:blur(8px)}
.adaptive-pill{display:inline-flex;padding:4px 10px;border-radius:999px;background:rgba(34,211,238,.15);color:#67e8f9;font-size:10px;font-weight:800;letter-spacing:.05em;margin-bottom:8px}
.adaptive-beginner .adaptive-pill{background:rgba(34,197,94,.14);color:#4ade80}
.adaptive-intermediate .adaptive-pill{background:rgba(96,165,250,.14);color:#93c5fd}
.adaptive-advanced .adaptive-pill{background:rgba(244,63,94,.15);color:#fb7185}
.adaptive-card-grid{display:grid;grid-template-columns:1fr;gap:10px;margin-bottom:12px}
.adaptive-card{background:linear-gradient(150deg,rgba(15,23,42,.92),rgba(30,41,59,.76));border:1px solid rgba(148,163,184,.24)}
.adaptive-value{font-size:20px;font-weight:900;margin:6px 0;letter-spacing:.01em}
.workout-mode-shell{background:#040507;border-color:#334155;box-shadow:0 0 0 1px rgba(148,163,184,.2) inset}
.workout-mode-top{display:flex;justify-content:space-between;font-size:11px;color:#94a3b8;text-transform:uppercase;letter-spacing:.05em}
.workout-focus{font-size:30px;font-weight:900;line-height:1.1;margin:12px 0 8px;color:#f8fafc}
.workout-actions{display:flex;gap:8px;margin-top:12px}
.workout-actions .btn{flex:1;min-height:48px;font-size:14px}

@media (min-width: 900px){
  .ctn{max-width:1200px}
  .adaptive-card-grid{grid-template-columns:repeat(2,minmax(0,1fr))}
}

.nav-left{gap:8px;align-items:center}
.nav-right{gap:4px}
.rest-label{font-size:12px;font-weight:600;color:var(--text-secondary)}
.rest-go{display:none;font-size:14px;font-weight:800;color:var(--success)}
.AppButton.danger{background:var(--danger);color:white}
